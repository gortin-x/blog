(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{396:function(e,a,s){"use strict";s.r(a);var t=s(45),i=Object(t.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"safari-cookie-设置有效期最大为7天"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#safari-cookie-设置有效期最大为7天"}},[e._v("#")]),e._v(" safari cookie 设置有效期最大为7天")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("Apple在2019年初的时候发布了ITP 2.1版本。在这个版本中，除了第三方cookie会被删以外，第一方cookie也会在7天之内被删除。")])]),e._v(" "),s("li",[s("p",[e._v("2019年4月，ITP 2.2版本随Safari 12.2发布。这个版本进一步缩短了第一方cookies的寿命——从7天变成了1天。")])])]),e._v(" "),s("blockquote",[s("p",[e._v("注意：ITP 2.2使用了某种智能算法，并不会是所有的第一方cookies都会被在24小时内删掉；ITP只会删掉它认为有问题的、很可能是第三方伪装成第一方的跟踪cookies。")])]),e._v(" "),s("h1",{attrs:{id:"chrome-samesite设置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#chrome-samesite设置"}},[e._v("#")]),e._v(" Chrome SameSite设置")]),e._v(" "),s("ul",[s("li",[s("p",[s("code",[e._v("Chrome 80")]),e._v(" 默认将没有设置SameSite设置为SameSite=Lax")]),e._v(" "),s("p",[e._v("解决方法")]),e._v(" "),s("ol",[s("li",[e._v("谷歌浏览器地址栏输入：chrome://flags/")]),e._v(" "),s("li",[e._v("找到：SameSite by default cookies、Cookies without SameSite must be secure")]),e._v(" "),s("li",[e._v("设置上面这两项设置成 Disable")])])])]),e._v(" "),s("blockquote",[s("p",[e._v("最近更新："),s("code",[e._v("Chrome 91")]),e._v(" 在 flags 设置已经移除了上述 SameSite 相关设置")]),e._v(" "),s("p",[e._v("解决方法")]),e._v(" "),s("ol",[s("li",[e._v("浏览器快捷方式修改启动参数 "),s("code",[e._v("(这种方法在 Chrome 94 之后也会被移除)")])])]),e._v(" "),s("p",[e._v("Windows")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("  --disable-features=SameSiteByDefaultCookies,CookiesWithoutSameSiteMustBeSecure\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("p",[e._v("Mac os")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v('  open -a "Google Chrome" --args --disable-features=SameSiteByDefaultCookies,CookiesWithoutSameSiteMustBeSecure\n')])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("ol",{attrs:{start:"2"}},[s("li",[e._v("手动追加cookie")]),e._v(" "),s("li",[e._v("避免跨域")])])])])}),[],!1,null,null,null);a.default=i.exports}}]);